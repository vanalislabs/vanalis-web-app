# REVIEW_000002: Migrasi SubmitDataPage dari Commit-Reveal ke Preview-First System

**Plan:** PLAN_000002.md  
**Execution:** EXECUTION_000002.md  
**Review Date:** 2024-12-19

## Executive Summary

Implementasi migrasi SubmitDataPage dari commit-reveal ke preview-first system telah selesai dan secara umum mengikuti rencana dengan baik. Semua checklist items telah diselesaikan. Namun, ditemukan beberapa bug, missing features, dan area yang perlu perbaikan untuk meningkatkan kualitas kode dan user experience.

**Status:** âœ… Implementasi Lengkap dengan Beberapa Issues yang Perlu Diperbaiki

---

## 1. Verifikasi Implementasi terhadap Plan

### âœ… Checklist Items - Semua Completed
Semua 12 checklist items dari PLAN_000002.md telah diimplementasikan:
- âœ… State management: `previewFile` dan `fullFile` terpisah dengan progress tracking
- âœ… File upload UI: 2 sections terpisah (Preview Dataset dan Full Dataset)
- âœ… File handlers: `handlePreviewFileChange` dan `handleFullFileChange`
- âœ… Form validation: Validasi kedua file dan required fields
- âœ… UI explanation: Card "Preview-First System" dengan 3 steps
- âœ… Submit handler: 3-step upload process (preview â†’ full â†’ create submission)
- âœ… Submit button: Disabled state dan loading state
- âœ… Progress tracking: Progress bars untuk preview dan full upload
- âœ… Form fields: Metadata terhubung dan dikirim bersama submission
- âœ… Mock functions: `mockUploadToStorage` dan `mockCreateSubmission`

### âœ… Acceptance Criteria - Mostly Met
- âœ… Contributor dapat upload 2 file terpisah (preview dan full)
- âœ… Form validation bekerja dengan benar
- âœ… UI explanation sesuai product brief
- âœ… Submit handler bekerja dengan 3-step process
- âœ… Progress tracking untuk setiap upload step
- âš ï¸ Drag-and-drop functionality tidak diimplementasikan (UI menyebutkan tapi tidak ada handler)

---

## 2. Bugs dan Masalah yang Ditemukan

### ğŸ”´ **BUG #1: Drag-and-Drop Functionality Tidak Diimplementasikan**

**Lokasi:** `src/pages/SubmitDataPage.tsx:195-233, 244-282`

**Masalah:**
UI menampilkan teks "Click to upload or drag and drop" tetapi tidak ada handler untuk drag-and-drop events (`onDrop`, `onDragOver`, `onDragEnter`, `onDragLeave`).

```195:233:src/pages/SubmitDataPage.tsx
                <div className="border-2 border-dashed border-border rounded-lg p-8 text-center hover-elevate cursor-pointer">
                  <input
                    type="file"
                    id="preview-file"
                    className="hidden"
                    onChange={handlePreviewFileChange}
                    accept="image/*,.dcm"
                    required
                    data-testid="input-preview-file"
                  />
                  <label htmlFor="preview-file" className="cursor-pointer">
                    {previewFile ? (
                      // ... file info display
                    ) : (
                      <div className="space-y-2">
                        <Upload className="h-12 w-12 mx-auto text-muted-foreground" />
                        <p className="font-medium">Click to upload or drag and drop</p>
                        <p className="text-sm text-muted-foreground">PNG, DICOM (max 50MB)</p>
                      </div>
                    )}
                  </label>
                </div>
```

**Dampak:** 
- User experience tidak sesuai dengan yang dijanjikan di UI
- User tidak bisa drag-and-drop file, hanya bisa click to upload
- Inkonsistensi antara UI text dan functionality

**Perbaikan yang Disarankan:**
Tambahkan drag-and-drop handlers:
```typescript
const [draggingPreview, setDraggingPreview] = useState(false);
const [draggingFull, setDraggingFull] = useState(false);

const handleDragOver = (e: React.DragEvent, type: 'preview' | 'full') => {
  e.preventDefault();
  e.stopPropagation();
  if (type === 'preview') setDraggingPreview(true);
  else setDraggingFull(true);
};

const handleDragLeave = (e: React.DragEvent, type: 'preview' | 'full') => {
  e.preventDefault();
  e.stopPropagation();
  if (type === 'preview') setDraggingPreview(false);
  else setDraggingFull(false);
};

const handleDrop = (e: React.DragEvent, type: 'preview' | 'full') => {
  e.preventDefault();
  e.stopPropagation();
  if (type === 'preview') setDraggingPreview(false);
  else setDraggingFull(false);
  
  const files = e.dataTransfer.files;
  if (files && files.length > 0) {
    if (type === 'preview') {
      setPreviewFile(files[0]);
    } else {
      setFullFile(files[0]);
    }
  }
};
```

**Severity:** Medium - Missing feature yang dijanjikan di UI

---

### ğŸ”´ **BUG #2: File Size Validation Tidak Diimplementasikan**

**Lokasi:** `src/pages/SubmitDataPage.tsx:229, 278`

**Masalah:**
UI menampilkan "PNG, DICOM (max 50MB)" tetapi tidak ada validasi file size di code. User bisa upload file lebih besar dari 50MB tanpa error.

```229:229:src/pages/SubmitDataPage.tsx
                        <p className="text-sm text-muted-foreground">PNG, DICOM (max 50MB)</p>
```

**Dampak:**
- User bisa upload file terlalu besar yang mungkin menyebabkan masalah di backend/storage
- Tidak ada feedback error jika file melebihi limit
- Inkonsistensi antara UI text dan actual validation

**Perbaikan yang Disarankan:**
Tambahkan file size validation:
```typescript
const MAX_FILE_SIZE = 50 * 1024 * 1024; // 50MB in bytes

const handlePreviewFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  if (e.target.files && e.target.files[0]) {
    const file = e.target.files[0];
    if (file.size > MAX_FILE_SIZE) {
      setSubmitStatus(`Preview file size exceeds 50MB limit. File size: ${formatFileSize(file.size)}`);
      return;
    }
    setPreviewFile(file);
    setSubmitStatus(""); // Clear previous errors
  }
};

const handleFullFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  if (e.target.files && e.target.files[0]) {
    const file = e.target.files[0];
    if (file.size > MAX_FILE_SIZE) {
      setSubmitStatus(`Full file size exceeds 50MB limit. File size: ${formatFileSize(file.size)}`);
      return;
    }
    setFullFile(file);
    setSubmitStatus(""); // Clear previous errors
  }
};
```

**Severity:** Medium - Missing validation yang penting untuk user experience

---

### ğŸŸ¡ **ISSUE #3: Type Safety - mockCreateSubmission Menggunakan `any`**

**Lokasi:** `src/pages/SubmitDataPage.tsx:36`

**Masalah:**
```36:41:src/pages/SubmitDataPage.tsx
async function mockCreateSubmission(submission: any): Promise<void> {
  // Simulate API call delay
  await new Promise((resolve) => setTimeout(resolve, 500));
  // Log submission data (will be replaced with real API call)
  console.log("Creating submission:", submission);
}
```

**Dampak:**
- Kehilangan type safety
- Tidak ada autocomplete/IntelliSense untuk submission object
- Risiko runtime errors jika struktur data salah

**Perbaikan yang Disarankan:**
Buat interface untuk submission atau gunakan type yang sudah ada:
```typescript
interface SubmissionCreateRequest {
  projectId: string | undefined;
  title: string;
  description: string;
  tags: string[];
  previewDatasetUrl: string;
  fullDatasetUrl: string;
  previewDatasetSize: string;
  fullDatasetSize: string;
  status: "pending";
}

async function mockCreateSubmission(submission: SubmissionCreateRequest): Promise<void> {
  // ...
}
```

**Severity:** Low - Code quality issue, tidak mempengaruhi functionality saat ini

---

### ğŸŸ¡ **ISSUE #4: Data Alignment - Submission Object Missing Required Fields**

**Lokasi:** `src/pages/SubmitDataPage.tsx:132-142`

**Masalah:**
Submission object yang dibuat tidak sesuai dengan interface `Submission` yang didefinisikan di `SubmissionCard.tsx`. Missing fields:
- `id` (akan di-generate oleh backend, tapi perlu di-handle)
- `contributorName` (required)
- `contributorAddress` (required)
- `submittedAt` (required)
- `reward` (required)

```132:142:src/pages/SubmitDataPage.tsx
      const submission = {
        projectId,
        title,
        description,
        tags: tags ? tags.split(",").map((t) => t.trim()) : [],
        previewDatasetUrl: previewUrl,
        fullDatasetUrl: fullUrl,
        previewDatasetSize: formatFileSize(previewFile.size),
        fullDatasetSize: formatFileSize(fullFile.size),
        status: "pending" as const,
      };
```

**Dampak:**
- Saat integrasi dengan real API, backend mungkin mengharapkan struktur yang berbeda
- Data yang dikirim tidak lengkap sesuai dengan interface yang digunakan di frontend
- Potensi error saat backend response di-map ke `Submission` interface

**Perbaikan yang Disarankan:**
1. **Option 1:** Backend akan generate missing fields (id, submittedAt) dan ambil dari auth context (contributorName, contributorAddress, reward)
2. **Option 2:** Tambahkan fields ke submission object (jika frontend perlu mengirim):
```typescript
const submission = {
  projectId,
  title,
  description,
  tags: tags ? tags.split(",").map((t) => t.trim()) : [],
  previewDatasetUrl: previewUrl,
  fullDatasetUrl: fullUrl,
  previewDatasetSize: formatFileSize(previewFile.size),
  fullDatasetSize: formatFileSize(fullFile.size),
  status: "pending" as const,
  // TODO: Get from auth context or wallet
  contributorName: "currentUser.name", // Get from auth
  contributorAddress: "currentUser.address", // Get from wallet
  reward: project.reward, // Get from project data
};
```

**Catatan:** Ini mungkin intentional jika backend akan generate/mengisi fields ini. Perlu konfirmasi dengan backend API spec.

**Severity:** Medium - Data alignment issue yang perlu diklarifikasi dengan backend

---

### ğŸŸ¡ **ISSUE #5: Error Message Display Logic Issue**

**Lokasi:** `src/pages/SubmitDataPage.tsx:409-415`

**Masalah:**
Error message card ditampilkan jika `submitStatus` ada dan tidak sedang submitting/uploading. Namun, `submitStatus` juga digunakan untuk success messages ("Uploading preview dataset...", dll) yang seharusnya tidak ditampilkan sebagai error.

```409:415:src/pages/SubmitDataPage.tsx
          {submitStatus && !submitting && !uploadingPreview && !uploadingFull && (
            <Card>
              <CardContent className="py-6">
                <div className="text-sm text-destructive">{submitStatus}</div>
              </CardContent>
            </Card>
          )}
```

**Dampak:**
- Success/status messages ditampilkan dengan style error (text-destructive)
- User experience membingungkan karena status messages terlihat seperti error

**Perbaikan yang Disarankan:**
Pisahkan error state dari status state:
```typescript
const [error, setError] = useState<string>("");
const [submitStatus, setSubmitStatus] = useState<string>("");

// In handleSubmit:
setError(""); // Clear errors
setSubmitStatus("Uploading preview dataset..."); // Status messages

// In error handler:
setError("Submission failed. Please try again.");
setSubmitStatus("");

// In UI:
{error && (
  <Card>
    <CardContent className="py-6">
      <div className="text-sm text-destructive">{error}</div>
    </CardContent>
  </Card>
)}
```

**Severity:** Low - UX issue, tidak critical tapi mengurangi kualitas UI

---

### ğŸŸ¡ **ISSUE #6: Missing State Cleanup on Error**

**Lokasi:** `src/pages/SubmitDataPage.tsx:148-155`

**Masalah:**
Saat error terjadi, beberapa state tidak di-reset dengan benar. Progress states mungkin tetap di nilai terakhir.

```148:155:src/pages/SubmitDataPage.tsx
    } catch (error) {
      // Handle error
      console.error("Submission failed:", error);
      setSubmitStatus("Submission failed. Please try again.");
      setUploadingPreview(false);
      setUploadingFull(false);
      setSubmitting(false);
    }
```

**Dampak:**
- Progress bars mungkin tetap menampilkan progress terakhir
- User mungkin bingung karena progress tidak di-reset

**Perbaikan yang Disarankan:**
Reset semua progress states:
```typescript
} catch (error) {
  console.error("Submission failed:", error);
  setSubmitStatus("Submission failed. Please try again.");
  setUploadingPreview(false);
  setUploadingFull(false);
  setSubmitting(false);
  setPreviewProgress(0); // Reset progress
  setFullProgress(0); // Reset progress
}
```

**Severity:** Low - Edge case, tidak critical tapi good practice

---

### ğŸŸ¡ **ISSUE #7: submitStatus Tidak Di-clear Setelah Success Navigation**

**Lokasi:** `src/pages/SubmitDataPage.tsx:144-147`

**Masalah:**
Setelah submission berhasil dan navigate ke `/my-submissions`, `submitStatus` tidak di-clear. Jika user kembali ke halaman ini (misalnya via browser back), status message mungkin masih ada.

```144:147:src/pages/SubmitDataPage.tsx
      await mockCreateSubmission(submission);

      // Navigate to my-submissions
      navigate("/my-submissions");
```

**Dampak:**
- Jika user kembali ke halaman, status message masih ada
- Minor UX issue

**Perbaikan yang Disarankan:**
Clear status sebelum navigate:
```typescript
await mockCreateSubmission(submission);
setSubmitStatus(""); // Clear status
setSubmitting(false); // Reset submitting state
navigate("/my-submissions");
```

**Severity:** Very Low - Edge case, tidak critical

---

### ğŸŸ¢ **ISSUE #8: File Type Validation Hanya di HTML Accept Attribute**

**Lokasi:** `src/pages/SubmitDataPage.tsx:201, 250`

**Masalah:**
File type validation hanya mengandalkan HTML `accept` attribute. Tidak ada JavaScript validation untuk memastikan file type yang benar.

```201:201:src/pages/SubmitDataPage.tsx
                    accept="image/*,.dcm"
```

**Dampak:**
- User bisa bypass HTML validation dengan manual file selection
- Tidak ada error message yang jelas jika file type salah

**Perbaikan yang Disarankan (Optional):**
Tambahkan JavaScript validation:
```typescript
const isValidFileType = (file: File): boolean => {
  const validTypes = ['image/png', 'image/jpeg', 'image/jpg', 'image/gif', 'application/dicom'];
  const validExtensions = ['.dcm', '.png', '.jpg', '.jpeg', '.gif'];
  const fileExtension = '.' + file.name.split('.').pop()?.toLowerCase();
  return validTypes.includes(file.type) || validExtensions.includes(fileExtension);
};

const handlePreviewFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  if (e.target.files && e.target.files[0]) {
    const file = e.target.files[0];
    if (!isValidFileType(file)) {
      setSubmitStatus("Invalid file type. Please upload PNG, DICOM, or other image files.");
      return;
    }
    // ... rest of handler
  }
};
```

**Severity:** Very Low - Nice to have, HTML accept sudah cukup untuk most cases

---

## 3. Keselarasan Data (Data Alignment Issues)

### ğŸŸ¡ **ISSUE: Submission Object Structure**

**Masalah:**
Submission object yang dibuat di `handleSubmit` tidak sesuai dengan interface `Submission` yang digunakan di `SubmissionCard.tsx`. Missing fields:
- `id` (akan di-generate backend)
- `contributorName` (required)
- `contributorAddress` (required)
- `submittedAt` (required)
- `reward` (required)

**Dampak:**
- Saat integrasi dengan real API, perlu memastikan backend mengisi fields ini
- Atau frontend perlu mengirim fields ini jika backend mengharapkannya

**Catatan:** Ini mungkin intentional jika backend akan generate/mengisi fields ini. Perlu konfirmasi dengan backend API spec.

**Severity:** Medium - Perlu diklarifikasi dengan backend API specification

---

## 4. Over-Engineering dan File Size

### âœ… **File Size - Reasonable**

- `SubmitDataPage.tsx`: 451 lines - âœ… Reasonable untuk page component dengan form dan upload logic

### âœ… **Tidak Ada Over-Engineering**

- State management clear dan terorganisir
- Mock functions terpisah dan mudah diganti dengan real implementation
- Helper functions (`formatFileSize`) terpisah dan reusable

---

## 5. Sintaks dan Gaya Kode

### âœ… **Sintaks Konsisten dengan Codebase**

- âœ… Menggunakan TypeScript dengan proper types (kecuali `any` di mock function)
- âœ… Mengikuti pattern shadcn/ui components
- âœ… Menggunakan TailwindCSS dengan konsisten
- âœ… Import statements terorganisir dengan baik
- âœ… Menggunakan Lucide React icons

### âš ï¸ **Minor Style Inconsistency**

**Issue:** Beberapa comments menggunakan bahasa Indonesia, beberapa English. Tidak ada masalah, tapi bisa lebih konsisten.

---

## 6. Perbandingan dengan Plan

### âœ… **Semua Item Plan Terimplementasi**

| Item Plan | Status | Catatan |
|-----------|--------|---------|
| State management update | âœ… | `previewFile` dan `fullFile` terpisah |
| File upload UI update | âœ… | 2 sections terpisah dengan drag-drop areas |
| File handlers | âœ… | `handlePreviewFileChange` dan `handleFullFileChange` |
| Form validation | âœ… | Validasi kedua file dan required fields |
| UI explanation update | âœ… | Card "Preview-First System" dengan 3 steps |
| Submit handler update | âœ… | 3-step process dengan mock functions |
| Submit button update | âœ… | Disabled state dan loading state |
| Progress tracking | âœ… | Progress bars untuk preview dan full |
| Form fields connection | âœ… | Metadata terhubung dan dikirim |
| Mock functions | âœ… | `mockUploadToStorage` dan `mockCreateSubmission` |

### âš ï¸ **Deviasi dari Plan**

1. **Drag-and-Drop Functionality:**
   - Plan: UI menyebutkan drag-and-drop
   - Implementasi: Hanya click to upload, tidak ada drag-and-drop handlers
   - **Catatan:** Missing feature yang perlu ditambahkan

2. **File Size Validation:**
   - Plan: UI menyebutkan "max 50MB"
   - Implementasi: Tidak ada validasi file size di code
   - **Catatan:** Missing validation yang perlu ditambahkan

---

## 7. Rekomendasi Perbaikan (Prioritas)

### ğŸ”´ **High Priority (Harus Diperbaiki)**

1. **Implement Drag-and-Drop Functionality** (BUG #1)
   - Tambahkan `onDrop`, `onDragOver`, `onDragLeave` handlers
   - Tambahkan visual feedback saat dragging (border highlight)
   - **Effort:** 30-45 menit

2. **Implement File Size Validation** (BUG #2)
   - Tambahkan MAX_FILE_SIZE constant (50MB)
   - Validasi di `handlePreviewFileChange` dan `handleFullFileChange`
   - Tampilkan error message jika file terlalu besar
   - **Effort:** 15 menit

### ğŸŸ¡ **Medium Priority (Sebaiknya Diperbaiki)**

3. **Fix Data Alignment - Submission Object** (ISSUE #4)
   - Konfirmasi dengan backend API spec
   - Tambahkan missing fields jika diperlukan (contributorName, contributorAddress, reward)
   - Atau pastikan backend akan mengisi fields ini
   - **Effort:** 15-30 menit (tergantung backend spec)

4. **Improve Type Safety** (ISSUE #3)
   - Buat interface `SubmissionCreateRequest`
   - Ganti `any` dengan proper type
   - **Effort:** 10 menit

5. **Fix Error Message Display Logic** (ISSUE #5)
   - Pisahkan `error` state dari `submitStatus` state
   - Update UI untuk menampilkan error dan status secara terpisah
   - **Effort:** 15 menit

### ğŸŸ¢ **Low Priority (Nice to Have)**

6. **Add State Cleanup on Error** (ISSUE #6)
   - Reset progress states saat error
   - **Effort:** 2 menit

7. **Clear Status on Success Navigation** (ISSUE #7)
   - Clear `submitStatus` sebelum navigate
   - **Effort:** 1 menit

8. **Add JavaScript File Type Validation** (ISSUE #8)
   - Validasi file type di JavaScript (selain HTML accept)
   - **Effort:** 15 menit

---

## 8. Testing Recommendations

### Manual Testing yang Disarankan:

1. âœ… **Test Upload Flow:**
   - Upload preview file â†’ verify file info displayed â†’ upload full file â†’ verify file info displayed â†’ fill form â†’ submit â†’ verify navigation

2. âš ï¸ **Test Drag-and-Drop (Setelah Fix):**
   - Drag file ke preview area â†’ verify file selected â†’ drag file ke full area â†’ verify file selected

3. âš ï¸ **Test File Size Validation (Setelah Fix):**
   - Upload file > 50MB â†’ verify error message displayed â†’ verify submit button disabled

4. âœ… **Test Form Validation:**
   - Submit tanpa preview file â†’ verify error message
   - Submit tanpa full file â†’ verify error message
   - Submit tanpa title/description â†’ verify error message

5. âœ… **Test Progress Tracking:**
   - Submit form â†’ verify progress bars appear â†’ verify progress updates â†’ verify status messages

6. âš ï¸ **Test Error Handling:**
   - Simulate upload error â†’ verify error message displayed â†’ verify states reset

7. âœ… **Test Change File:**
   - Upload file â†’ click "Change File" â†’ verify file picker opens â†’ select new file â†’ verify file updated

### Automated Testing (Future):

- Unit tests untuk file handlers
- Unit tests untuk form validation
- Component tests untuk SubmitDataPage
- Integration tests untuk submission flow

---

## 9. Accessibility Review

### âœ… **Accessibility - Mostly Good**

- âœ… Menggunakan semantic HTML (`<form>`, `<label>`, `<input>`)
- âœ… Labels terhubung dengan inputs menggunakan `htmlFor` dan `id`
- âœ… shadcn/ui components sudah include ARIA attributes
- âœ… Keyboard navigation support (via native form elements)

### âš ï¸ **Improvements Needed:**

1. **Missing ARIA Labels:**
   - File upload areas bisa ditambahkan `aria-label="Upload preview dataset"` dan `aria-label="Upload full dataset"`
   - Progress bars bisa ditambahkan `aria-live="polite"` untuk screen reader updates

2. **Drag-and-Drop Accessibility:**
   - Saat implement drag-and-drop, pastikan ada keyboard alternative
   - Tambahkan ARIA announcements untuk drag-and-drop events

---

## 10. Security Considerations

### âœ… **Tidak Ada Security Issues yang Ditemukan**

- âœ… File upload menggunakan native HTML input (browser security)
- âœ… Tidak ada XSS vulnerabilities (React auto-escapes)
- âœ… Form validation di frontend (akan ada juga di backend)

### âš ï¸ **Future Considerations:**

Saat integrasi dengan real API dan storage, pastikan:
- File type validation di backend (jangan hanya di frontend)
- File size limits di backend
- File content scanning untuk malicious files
- Authentication checks untuk submission creation
- Rate limiting untuk prevent abuse

---

## 11. Performance Considerations

### âœ… **Performance - Good**

- âœ… Tidak ada unnecessary re-renders
- âœ… State management efisien
- âœ… Progress updates tidak menyebabkan lag

### âš ï¸ **Potential Optimizations (Future):**

1. **File Preview:**
   - Bisa tambahkan file preview (untuk images) sebelum upload
   - Bisa tambahkan file metadata extraction (untuk DICOM files)

2. **Upload Optimization:**
   - Bisa implement chunked upload untuk large files
   - Bisa implement retry mechanism untuk failed uploads
   - Bisa implement upload cancellation

---

## 12. Kesimpulan

### âœ… **Overall Assessment: GOOD dengan Beberapa Issues**

Implementasi migrasi SubmitDataPage dari commit-reveal ke preview-first system **sudah lengkap dan functional**. Semua requirement dari plan telah terpenuhi. Kode secara umum clean, well-structured, dan mengikuti best practices.

**Issues yang ditemukan:**
- 2 Bugs (drag-and-drop missing, file size validation missing) - **Harus diperbaiki**
- 1 Medium priority issue (data alignment) - **Perlu diklarifikasi dengan backend**
- 5 Low priority improvements (type safety, error handling, state cleanup, dll)

**Rekomendasi:**
1. Implement drag-and-drop functionality (high priority)
2. Implement file size validation (high priority)
3. Fix data alignment issue dengan backend (medium priority)
4. Improve type safety dan error handling (low priority)
5. Low priority improvements bisa dilakukan saat refactoring atau jika ada waktu

**Status:** âœ… **APPROVED dengan Fixes Required**

---

## Appendix: File Changes Summary

### Files Modified:
- `src/pages/SubmitDataPage.tsx` (451 lines - complete rewrite)

### Key Changes:
- State management: Single `selectedFile` â†’ `previewFile` + `fullFile` dengan progress tracking
- UI: Single file upload â†’ 2 separate file upload sections
- Submit handler: Single upload â†’ 3-step process (preview â†’ full â†’ create submission)
- UI explanation: "Commit-Reveal Process" â†’ "Preview-First System"

### Helper Functions Created:
- `formatFileSize(bytes: number): string` - Formats file size for display
- `mockUploadToStorage(file, options, onProgress): Promise<string>` - Mock storage upload
- `mockCreateSubmission(submission): Promise<void>` - Mock API submission

---

**Reviewer Notes:**
- Implementasi mengikuti plan dengan baik
- Code quality baik secara keseluruhan
- Beberapa missing features (drag-and-drop, file size validation) perlu ditambahkan
- Data alignment issue perlu diklarifikasi dengan backend
- Ready untuk testing dan integration dengan backend API setelah fixes

